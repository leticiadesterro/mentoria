<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>PROJETO LETI RESIDENTE</title>

<style>

body{
font-family:Arial;
background:#f2f4f8;
margin:30px;
}

h1{
text-align:center;
}

input,button{
width:100%;
padding:12px;
margin-top:10px;
font-size:16px;
}

.card{
background:white;
padding:20px;
margin-top:15px;
border-radius:10px;
box-shadow:0 3px 10px rgba(0,0,0,0.08);
}

.fix{border-left:8px solid #e74c3c;}
.r7{border-left:8px solid #f39c12;}
.r15{border-left:8px solid #3498db;}
.r30{border-left:8px solid #2ecc71;}
.r90{border-left:8px solid #9b59b6;}

.total{
font-size:22px;
font-weight:bold;
text-align:center;
margin-top:20px;
}

.finalizado{
opacity:.45;
}

</style>
</head>

<body>

<h1>PROJETO LETI RESIDENTE 2027</h1>

<label>Escolha a data:</label>
<input type="date" id="data">

<button onclick="calcular()">CALCULAR SEMANA</button>

<div id="saida"></div>

<script>

/**********************
CONFIGURAÇÕES
**********************/

const META = 350;

const MIN = {
FIX:60,
R7:20,
R15:20,
R30:10,
R90:10
};

const DATA_BASE = new Date(2026,0,10); // primeiro sábado

/**********************
CRONOGRAMA
(duas aulas por sábado)
**********************/

const aulas = [

const aulas = [
["2026-01-10","SD ICTERICIA I (HEPATITES)"],
["2026-01-10","DOENCAS EXANTEMATICAS"],
["2026-01-17","SD ICTERICIA II (VIAS BILIARES)"],
["2026-01-17","SINDROME DE HIPERTENSAO PORTA"],
["2026-01-24","SINDROME DE INSUFICIENCIA HEPATICA"],
["2026-01-24","SINDROMES DE TRANSMISSAO SEXUAL"],
["2026-01-31","SINDROMES DISFAGICAS"],
["2026-01-31","SINDROMES RESPIRATORIAS NA INFANCIA (PARTE 1)"],
["2026-02-07","SINDROME DISPEPTICA E DOENCAS DO TGI SUPERIOR"],
["2026-02-07","SINDROMES RESPIRATORIAS NA INFANCIA (PARTE II)"],
["2026-02-14","SINDROME DIARREICA"],
["2026-02-14","HEMORRAGIA DIGESTIVA I - ABORDAGEM E CONDUTA"],
["2026-02-21","SINDROME METABOLICA I - HAS E DISLIPIDEMIA"],
["2026-02-21","HEMORRAGIA DIGESTIVA II - PROCTOLOGIA"],
["2026-02-28","SUS - EVOLUCAO HISTORICA, DIRETRIZES, PROPOSTAS E FINANCIAMENTO"],
["2026-02-28","SANGRAMENTO DA PRIMEIRA METADE DA GRAVIDEZ E DOENCAS HEMOLITICAS PERINATAIS"],
["2026-03-07","SINDROME ALGICA I - DOR ABDOMINAL"],
["2026-03-07","SANGRAMENTOS DA SEGUNDA METADE DA GRAVIDEZ"],
["2026-03-14","SINDROME METABOLICA II - DIABETES"],
["2026-03-14","IMUNIZACAO + INFECCAO DO TRATO URINARIO"],
["2026-03-21","GRANDES SINDROMES ENDOCRINAS PARTE I (TIREOIDE)"],
["2026-03-21","SINDROME DE OCLUSAO INTESTINAL (AGUDA X CRONICA) + HERNIAS"],
["2026-03-28","GRANDES SINDROMES ENDOCRINAS PARTE II (SUPRARRENAL/CALCIO); HIPOFUNCAO ADRENAL (DOENCA DE ADDISON)"],
["2026-03-28","ONCOLOGIA PARTE I - MAMA E OVARIO"],
["2026-04-04","TERAPIA INTENSIVA"],
["2026-04-04","MEDIDAS DE SAUDE COLETIVA"],
["2026-04-11","GRANDES SINDROMES BACTERIANAS PARTE I - PNEUMONIA"],
["2026-04-11","ONCOLOGIA PARTE II (ENDOMETRIO E COLO UTERINO)"],
["2026-04-18","ESTUDOS EPIDEMIOLOGICOS"],
["2026-04-18","DOENCAS CLINICAS NA GRAVIDEZ"],
["2026-04-25","GRANDES SINDROMES BACTERIANAS PARTE II - ENDOCARDITE E ITU"],
["2026-04-25","SINDROMES DE IMUNODEFICIENCIA"],
["2026-05-02","SINDROMES FEBRIS"],
["2026-05-09","TOSSE CRONICA"],
["2026-05-09","NEONATOLOGIA I"],
["2026-05-16","NEONATOLOGIA II"],
["2026-05-16","ONCOLOGIA II - ESOFAGO, ESTOMAGO, COLORRETAL E FIGADO"],
["2026-05-23","ONCOLOGIA II - PROSTATA, PULMAO E TIREOIDE"],
["2026-05-23","CRESCIMENTO E SEUS DISTURBIOS"],
["2026-05-23","CARENCIA DE MICRONUTRIENTES"],
["2026-05-30","PUBERDADE E SEUS DISTURBIOS"],
["2026-05-30","DESENVOLVIMENTO INFANTIL"],
["2026-06-06","DISPNEIA (DOENCAS VASCULARES, OBSTRUTIVAS E RESTRITIVAS)"],
["2026-06-06","SOFRIMENTO FETAL, AVALIACAO DE VITALIDADE FETAL, FORCEPS E PUERPERIO"],
["2026-06-13","GERIATRIA"],
["2026-06-13","EPILEPSIA"],
["2026-06-20","VIGILANCIA DA SAUDE E ETICA MEDICA"],
["2026-06-20","SINDROMES NEUROVASCULARES"],
["2026-06-27","DECLARACAO DE OBITO E SAUDE DO TRABALHADOR"],
["2026-06-27","FRAQUEZA MUSCULAR"],
["2026-07-04","DIAGNOSTICO DE GRAVIDEZ, MODIFICACOES DO ORGANISMO MATERNO, PRE-NATAL E ACONSELHAMENTO GENETICO"],
["2026-07-04","SINDROME ALGICA II - CEFALEIAS PRIMARIAS E SECUNDARIAS (ARTERITE DE CELULAS GIGANTES E MENINGITE)"],
["2026-07-11","CICLO MENSTRUAL, DISTOPIA GENITAL E INCONTINENCIA URINARIA"],
["2026-07-11","SINDROMES GLOMERULARES E DOENCA VASCULAR RENAL"],
["2026-07-18","SINDROMES ALGICAS III - DOR LOMBAR"],
["2026-07-18","SINDROME UREMICA"],
["2026-07-25","TRAUMA E SUAS CONSEQUENCIAS I"],
["2026-07-25","DISTURBIOS HIDROELETROLITICOS E ACIDO-BASE"],
["2026-08-01","TRAUMA E SUAS CONSEQUENCIAS II"],
["2026-08-01","ANEMIAS - PARTE I (CARENCIAIS)"],
["2026-08-08","ANEMIAS - PARTE II (HEMOLITICAS)"],
["2026-08-08","LEUCEMIAS E PANCITOPENIA"],
["2026-08-15","AMENORREIA"],
["2026-08-15","INFERTILIDADE E CLIMATERIO"],
["2026-08-22","LINFONODOMEGALIA"],
["2026-08-22","ANTICONCEPCAO, SANGRAMENTOS GINECOLOGICOS E ENDOMETRIOSE"],
["2026-08-29","DISTURBIOS DE HEMOSTASIA"],
["2026-08-29","TRANSTORNOS PSIQUIATRICOS I"],
["2026-09-05","ARTRITES"],
["2026-09-05","TRANSTORNOS PSIQUIATRICOS II"],
["2026-09-12","COLAGENOSES"],
["2026-09-12","VASCULITES"],
["2026-09-19","SINDROMES EDEMIGENICAS"],
["2026-09-19","O PARTO"],
["2026-09-26","SINDROMES ALGICAS IV - DOR TORACICA PARTE I"],
["2026-09-26","SINDROMES ALGICAS IV - DOR TORACICA PARTE II"],
["2026-10-03","TAQUIARRITMIAS"],
["2026-10-03","BRADIARRITMIAS"],
["2026-10-10","VALVOPATIAS"],
["2026-10-10","CARDIOPEDIATRIA"],
["2026-10-17","ALEITAMENTO MATERNO + DIARREIA AGUDA"],
["2026-10-17","PERIOPERATORIO I"],
["2026-10-24","PERIOPERATORIO II"],
["2026-10-24","INTOXICACAO E ACIDENTES POR ANIMAIS PEÇONHENTOS"],
["2026-10-31","PSIQUIATRIA I"],
["2026-10-31","PSIQUIATRIA II"],
["2026-11-07","OTORRINOLARINGOLOGIA"],
["2026-11-07","CIRURGIA DE CABECA E PESCOCO"],
["2026-11-14","OFTALMOLOGIA"],
["2026-11-14","ESPECIALIDADE CIRURGICA - PARTE I"],
["2026-11-14","ESPECIALIDADE CIRURGICA - PARTE II"],
["2026-11-14","DERMATOLOGIA I"],
["2026-11-14","DERMATOLOGIA II"],
["2026-11-14","ORTOPEDIA I"],
["2026-11-14","ORTOPEDIA II"]
];
]; // pode continuar depois — motor já suporta o ano todo

/**********************
FUNÇÕES DE DATA
**********************/

function semanaIndex(data){

let d = new Date(data);

let diff = d - DATA_BASE;

return Math.floor(diff / (7*24*60*60*1000));

}

/**********************
GERAR ATIVOS
**********************/

function gerarAtivos(data){

let semanaAtual = semanaIndex(data);

let ativos=[];

aulas.forEach(a=>{

let semanaAula = semanaIndex(new Date(a[0]));
let diff = semanaAtual - semanaAula;

let fases = [];

if(diff===0) fases.push("FIX");
if(diff===1) fases.push("R7");
if(diff===2) fases.push("R15");
if(diff===4) fases.push("R30");
if(diff===12) fases.push("R90");

fases.forEach(f=>{
a[1].forEach(tema=>{
ativos.push({
tema,
fase:f,
min:MIN[f]
});
});
});

});

return ativos;

}

/**********************
DISTRIBUIÇÃO PERFEITA
**********************/

function distribuir(ativos){

let somaMin = ativos.reduce((s,a)=>s+a.min,0);

ativos.forEach(a=>{
a.sugerida = Math.round((a.min/somaMin)*META);
});

/* ajuste fino */
let soma = ativos.reduce((s,a)=>s+a.sugerida,0);

while(soma!==META){

if(soma<META){
ativos.sort((a,b)=>b.min-a.min);
ativos[0].sugerida++;
soma++;
}else{
ativos.sort((a,b)=>b.sugerida-a.sugerida);
ativos[0].sugerida--;
soma--;
}

}

}

/**********************
UI
**********************/

function calcular(){

let dataInput=document.getElementById("data").value;

if(!dataInput){
alert("Escolha uma data.");
return;
}

let data = new Date(dataInput+"T00:00:00");

let ativos = gerarAtivos(data);

if(ativos.length===0){
saida.innerHTML="<div class='total'>SEMANA SEM CONTEÚDO</div>";
return;
}

distribuir(ativos);

let html=`<div class="total">META: ${META} QUESTÕES</div>`;

ativos.forEach((a,i)=>{

html+=`
<div class="card ${a.fase.toLowerCase()}" id="c${i}">

<b>${a.tema}</b><br><br>

FASE: ${a.fase}<br>
MÍNIMO: ${a.min}<br>
IDEAL: ${a.sugerida}<br>
MÉDIA/DIA: ${Math.ceil(a.sugerida/5)}

<br><br>

<input type="number" placeholder="Feitas" id="f${i}" oninput="rend(${i})">
<input type="number" placeholder="Erros" id="e${i}" oninput="rend(${i})">

<div id="r${i}">Rendimento: -</div>

<button onclick="finalizar(${i})">FINALIZAR</button>

</div>
`;

});

saida.innerHTML=html;

}

/**********************
RENDIMENTO
**********************/

function rend(i){

let f = parseInt(document.getElementById("f"+i).value)||0;
let e = parseInt(document.getElementById("e"+i).value)||0;

if(f>0 && e<=f){

let p = (((f-e)/f)*100).toFixed(1);

document.getElementById("r"+i).innerText=
"Rendimento: "+p+"%";

}

}

function finalizar(i){
document.getElementById("c"+i).classList.add("finalizado");
}

</script>

</body>
</html>
