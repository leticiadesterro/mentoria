<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Plano Semanal ResidÃªncia</title>
<style>
body { font-family: Arial; margin:40px; background:#f2f4f8; }
h1 { color:#111; }
.card{
 background:white;
 padding:15px;
 margin:10px 0;
 border-radius:8px;
 box-shadow:0 2px 6px rgba(0,0,0,0.1);
}
.fix { border-left:8px solid #e74c3c; }
.r1 { border-left:8px solid #f39c12; }
.r2 { border-left:8px solid #3498db; }
.r4 { border-left:8px solid #2ecc71; }
.r12{ border-left:8px solid #9b59b6; }
.total{ font-size:20px; margin-bottom:20px; }
</style>
</head>
<body>

<h1>ðŸ“š TEMAS DA SEMANA</h1>
<div id="saida"></div>

<script>

const TOTAL_SEMANA = 350;

// Peso por fase
const pesoFase = {
 "FIX": 1.0,
 "R1": 0.7,
 "R2": 0.5,
 "R4": 0.35,
 "R12":0.25
};

// LISTA COMPLETA (2026)
const aulas = [
{d:"2026-01-10", t:"SD ICTERICIA I"},
{d:"2026-01-17", t:"SD ICTERICIA II"},
{d:"2026-01-24", t:"INSUFICIENCIA HEPATICA"},
{d:"2026-01-31", t:"SINDROMES DISFAGICAS"},
{d:"2026-02-07", t:"DISPEPSIA TGI"},
{d:"2026-02-21", t:"SINDROME DIARREICA"},
{d:"2026-02-28", t:"SINDROME METABOLICA HAS DISLIPIDEMIA"},
{d:"2026-03-01", t:"SUS"},
{d:"2026-03-14", t:"DOR ABDOMINAL"},
{d:"2026-03-21", t:"DIABETES"},
{d:"2026-03-28", t:"TIREOIDE"},
{d:"2026-04-04", t:"SUPRARRENAL"},
{d:"2026-04-11", t:"TERAPIA INTENSIVA"},
{d:"2026-04-18", t:"PNEUMONIA"},
{d:"2026-04-25", t:"ESTUDOS EPIDEMIOLOGICOS"},
{d:"2026-05-02", t:"ENDOCARDITE ITU"},
{d:"2026-05-09", t:"ANTIBIOTICOTERAPIA"},
{d:"2026-05-16", t:"TOSSE CRONICA"},
{d:"2026-05-23", t:"NEONATOLOGIA"},
{d:"2026-05-30", t:"ONCOLOGIA"},
{d:"2026-06-06", t:"DISPNEIA"},
{d:"2026-06-13", t:"OBSTETRICIA"},
{d:"2026-06-20", t:"EPILEPSIA"},
{d:"2026-06-27", t:"NEUROVASCULAR"},
{d:"2026-07-04", t:"PRE NATAL"},
{d:"2026-07-11", t:"CEFALEIA"},
{d:"2026-07-18", t:"SINDROMES RENAIS"},
{d:"2026-07-25", t:"UREMIA"},
{d:"2026-08-01", t:"DISTURBIOS ACIDO BASE"},
{d:"2026-08-08", t:"ANEMIAS"},
{d:"2026-08-15", t:"HEMATOLOGIA"},
{d:"2026-08-22", t:"GINECOLOGIA"},
{d:"2026-08-29", t:"HEMOSTASIA"},
{d:"2026-09-05", t:"ARTRITES"},
{d:"2026-09-15", t:"COLAGENOSES"},
{d:"2026-09-19", t:"SINDROME EDEMIGENICA"},
{d:"2026-09-26", t:"DOR TORACICA"},
{d:"2026-10-03", t:"ARRITMIAS"},
{d:"2026-10-10", t:"VALVOPATIAS"},
{d:"2026-10-17", t:"PEDIATRIA"},
{d:"2026-10-24", t:"PERIOPERATORIO"},
{d:"2026-10-31", t:"PSIQUIATRIA"},
{d:"2026-11-07", t:"DERMATOLOGIA"},
{d:"2026-11-14", t:"ORTOPEDIA"}
];

// Peso automÃ¡tico por relevÃ¢ncia
function pesoTema(nome){
 nome = nome.toUpperCase();
 if(nome.includes("ARRIT") || nome.includes("VALV") || nome.includes("TORACICA")) return 4;
 if(nome.includes("METAB") || nome.includes("DIABET") ) return 4;
 if(nome.includes("OBST") || nome.includes("PRE NATAL")) return 4;
 if(nome.includes("NEONAT") || nome.includes("PEDIATR")) return 4;
 if(nome.includes("ONCO")) return 3.5;
 if(nome.includes("PNEUMONIA") || nome.includes("DISPNEIA")) return 3.5;
 if(nome.includes("INTENSIVA")) return 3.5;
 if(nome.includes("RENAL") || nome.includes("UREM")) return 3;
 if(nome.includes("SUS")) return 1.5;
 return 2.5;
}

function week(d){
 const first=new Date(d.getFullYear(),0,1);
 return Math.ceil((((d-first)/86400000)+first.getDay()+1)/7);
}

const hoje=new Date();
const semanaAtual=week(hoje);

let ativos=[];

aulas.forEach(a=>{
 const data=new Date(a.d);
 const diff=semanaAtual-week(data);
 let fase=null;
 if(diff===1) fase="FIX";
 if(diff===2) fase="R1";
 if(diff===3) fase="R2";
 if(diff===5) fase="R4";
 if(diff===13) fase="R12";
 if(fase){
   ativos.push({
     tema:a.t,
     fase:fase,
     peso:pesoTema(a.t)*pesoFase[fase]
   });
 }
});

let soma=ativos.reduce((s,x)=>s+x.peso,0);
let html=`<div class="total">Semana ${semanaAtual} | 350 questÃµes</div>`;

ativos.forEach(x=>{
 const qtd=Math.round((x.peso/soma)*TOTAL_SEMANA);
 html+=`
 <div class="card ${x.fase.toLowerCase()}">
 <strong>${x.tema}</strong><br>
 Fase: ${x.fase}<br>
 QuestÃµes semana: <strong>${qtd}</strong><br>
 MÃ©dia diÃ¡ria: ${Math.ceil(qtd/5)}
 </div>`;
});

if(ativos.length===0){
 html+="Nenhuma revisÃ£o esta semana.";
}

document.getElementById("saida").innerHTML=html;

</script>

</body>
</html>
